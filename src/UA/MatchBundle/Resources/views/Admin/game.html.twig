{% extends "UAMatchBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - {{ 'admin.game.title'|trans}}{% endblock %}

{% block body %}
    <article class="col-lg-8 col-lg-offset-1">
		<ol class="breadcrumb">
			<li><a href="{{ path('UAblog_default') }}">{{ 'breadcrumb.home'|trans }}</a></li>
			<li><a href="{{ path('UAUser_admin') }}">{{ 'breadcrumb.admin'|trans }}</a></li>
			<li class="active">{{ 'breadcrumb.game'|trans }}</li>
		</ol>

		<h2 class="text-center">{{ 'admin.game.title'|trans }}</h2>

		{% if success %}
			<div class="alert alert-success">{{ 'gameSuccess'|trans }}</div>
		{% endif %}

		{{ form_errors(form) }}

		<form method="POST" {{ form_enctype(form) }}>
			<div class="row">
				<div class="col-lg-2">
					{{ form_widget(form.shortName, {'attr' : {	'class' : 'form-control', 'placeholder' : 'admin.game.input.abbr'|trans }} )}}
				</div>
				<div class="col-lg-10">
					{{ form_widget(form.name, {'attr' : {'class' : 'form-control', 'placeholder' : 'admin.game.input.title'|trans }}) }}
				</div>
			</div>
			{{ form_errors(form.shortName) }}
			{{ form_errors(form.name) }}
			<br>

			{{ form_widget(form.file) }}
			{{ form_errors(form.file) }}
			<br>
			<div class="row">
				{{form_label(form.nbrPlayerRequired, 'admin.game.label.nbrPlayerRequired'|trans, {'label_attr' : {'class' : 'col-lg-10 control-label'}})}}
				<div class="col-lg-2">{{ form_widget(form.nbrPlayerRequired, {'attr' : {'class' : 'form-control'}})}}</div>
				<div class="col-lg-12">{{ form_errors(form.nbrPlayerRequired) }}</div>
			</div>
			<div class="row" style="margin-top: 5px; margin-bottom: 5px;">
				{{form_label(form.generator, 'admin.game.label.generator'|trans, {'label_attr' : {'class' : 'col-lg-8 control-label'}})}}
				<div class="col-lg-4">{{ form_widget(form.generator, {'attr' : {'class' : 'form-control'}})}}</div>
				<div class="col-lg-12">{{ form_errors(form.generator) }}</div>
			</div>
        	{{ form_rest(form) }}
			<input type="submit" class="btn btn-default pull-right" />
        </form>

        <div class="clearfix"></div>
        
		<div id="GamesGestion">
			{% for game in games %}
				<p class="game">
					<img src="{{ asset('uploads/img/' ~ game.pictures) }}" alt="{{game.pictures}}"><br />
					<span class="gameName">{{game.name}}</span>
					<span class="controlGame">
						<a href="{{ path('UAMatchAdmin_GameDelete', {'gameId' : game.id}) }}" class="delete">
							<span class="glyphicon glyphicon-remove"></span>
						</a>
					</span>
				</p>
			{% endfor %}
		</div>
	</article>
	{{ parent() }}
{% endblock %}